function events(e){canvas.on("mouse:over",function(t){if(t.target.event_id){var n=canvas.getObjects(),a=getActiveLegend(n);a&&canvas.remove(a);var r=new fabric.Rect(patternLegendBox),o=getEventById(t.target.event_id,e),v=wrapCanvasText(new fabric.Text(o.description,patternLegendText),canvas,r.getWidth()-20,r.getHeight()-20,!0),a=new fabric.Group([r,v],{selectable:!1,visible:!0,top:t.target.getTop()-70,left:t.target.getLeft()+70,hoverCursor:"pointer"});a.isLegend=!0,canvas.add(a),canvas.hoverCursor="pointer",canvas.renderAll(),document.body.style.setProperty("cursor","pointer")}}),canvas.on("mouse:move",function(e){if(!e.target){document.body.style.setProperty("cursor","default");var t=canvas.getObjects(),n=getActiveLegend(t);canvas.remove(n)}}),canvas.on("mouse:up",function(t){if(t.target&&t.target.event_id){var n=getEventById(t.target.event_id,e);n.link&&(window.location=n.link)}})}