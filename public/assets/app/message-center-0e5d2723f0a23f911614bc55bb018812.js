"use strict";var MessageCenterModule=angular.module("MessageCenterModule",[]);MessageCenterModule.service("messageCenterService",["$rootScope","$sce","$timeout",function(s,e,t){return{mcMessages:this.mcMessages||[],offlistener:this.offlistener||void 0,status:{unseen:"unseen",shown:"shown",next:"next",permanent:"permanent"},add:function(s,a,n){var i=["info","warning","danger","success"],r=this;if(n=n||{},-1==i.indexOf(s))throw"Invalid message type";var c={type:s,status:n.status||this.status.unseen,processed:!1,close:function(){return r.remove(this)}};return c.message=n.html?e.trustAsHtml(a):a,c.html=!!n.html,angular.isDefined(n.timeout)&&(c.timer=t(function(){c.close()},n.timeout)),this.mcMessages.push(c),c},remove:function(s){var e=this.mcMessages.indexOf(s);this.mcMessages.splice(e,1)},reset:function(){this.mcMessages=[]},removeShown:function(){for(var s=this.mcMessages.length-1;s>=0;s--)this.mcMessages[s].status==this.status.shown&&this.remove(this.mcMessages[s])},markShown:function(){for(var s=this.mcMessages.length-1;s>=0;s--)this.mcMessages[s].processed||(this.mcMessages[s].status==this.status.unseen?(this.mcMessages[s].status=this.status.shown,this.mcMessages[s].processed=!0):this.mcMessages[s].status==this.status.next&&(this.mcMessages[s].status=this.status.unseen))},flush:function(){s.mcMessages=this.mcMessages}}}]),MessageCenterModule.directive("mcMessages",["$rootScope","messageCenterService",function(s,e){var t='    <div id="mc-messages-wrapper">      <div class="alert alert-{{ message.type }} {{ animation }}" ng-repeat="message in mcMessages">        <a class="close" ng-click="message.close();" data-dismiss="alert" aria-hidden="true">&times;</a>        <span ng-switch on="message.html">        <span ng-switch-when="true">          <span ng-bind-html="message.message"></span>        </span>        <span ng-switch-default>          {{ message.message }}        </span>      </div>    </div>    ';return{restrict:"EA",template:t,link:function(t,a,n){e.flush();var i=function(){e.markShown(),e.removeShown(),s.mcMessages=e.mcMessages,e.flush()};void 0===e.offlistener&&(e.offlistener=s.$on("$locationChangeSuccess",i)),t.animation=n.animation||"fade in"}}}]);